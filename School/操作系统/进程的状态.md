# 进程的基本状态及转换和阻塞及挂起的理解

2018年06月24日 16:12:26  更多



版权声明：本文为博主原创文章，遵循[ CC 4.0 BY-SA ](http://creativecommons.org/licenses/by-sa/4.0/)版权协议，转载请附上原文出处链接和本声明。本文链接：https://blog.csdn.net/Caoyang_He/article/details/80791581

## **概念描述：**

- **就绪状态** ：一个进程获得了除处理机外的一切所需资源，一旦得到处理机即可运行，则称此进程处于就绪状态。
- **执行状态**：当一个进程在处理机上运行时，则称该进程处于运行状态。
- **阻塞状态**：一个进程正在等待某一事件发生（例如请求I／O而等待I／O完成等）而暂时仃止运行，这时即使把处理器分配给进程也无法运行，故称该进程处于阻塞状态。
- **挂起状态**：由于IO的速度慢于CPU的运算速度，经常出现CPU等待I/O的情况。这时OS需要将主存中的进程对换至外存。在进程行为模式中需要增加一个新的挂起（suspend）状态。当内存中所有进程阻塞时，OS可将一进程置为挂起态并交换到外存，再调入另一个进程执行。
- **新建状态**：进程刚创建，但还不能运行，OS还没有把它加到可执行进程组中，通常是还没有加载到主存中的新进程。
- **退出状态**：OS从可执行进程组中释放出的进程，或者是因为它自身停止了，或者是因为某种原因被取消。进程不在适合执行，但与作业相关的表和其它信息临时被OS保留起来，为其他程序提供所需信息。
- **活跃就绪**：指进程在主存并旦可被调度的状态。
- **静止就绪**：指进程被对换到辅存时的就绪状态，是不能被直接调度的状态，只有当主存中没有活跃就绪态进程，或者是挂起态进程具有更高的优先级，系统将把挂起就绪态进程调回主存并转换为活跃就绪。
- **活跃阻塞**：指进程在主存中。一旦等待的事件产生，便进入活跃就绪状态。
- **静止阻塞**：指进程对换到辅存时的阻塞状态。一旦等待的事件产生，便进入静止就绪状态。

## **进程转换状态图**

- **三种基本状态转换图：**

就绪就绪执行执行阻塞阻塞进程调度时间片用完I/O请求I/O完成

![这里写图片描述](https://img-blog.csdn.net/20180624152938923?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nhb3lhbmdfSGU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 
\- **五种基本状态转换图（单挂起）：**

新建新建就绪就绪执行执行阻塞阻塞挂起挂起退出退出允许进入分派时间片用完（超时）事件等待（I/O请求）事件发生（I/O完成）挂起激活释放

![这里写图片描述](https://img-blog.csdn.net/20180624153134787?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nhb3lhbmdfSGU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70) 
\- **五种基本状态转换图（双挂起）：**

新建新建活跃就绪活跃就绪静止就绪静止就绪执行执行活跃阻塞活跃阻塞静止阻塞静止阻塞退出退出允许进入允许进入挂起激活分派时间片用完（超时）事件等待（I/O请求）挂起事件发生（I/O完成)挂起激活事件发生（I/O完成)释放

![这里写图片描述](https://img-blog.csdn.net/2018062415285129?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nhb3lhbmdfSGU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

## **阻塞及挂起的理解**

1. 挂起是一种主动行为，是把一个进程从**内存转到外存**，而阻塞则是一种被动行为（并不绝对，看个人理解），是在**等待事件或资源时任务的表现**。对于挂起，其进程**所有资源都转入外存**；而阻塞，其进程**所有资源依然保存在内存中**。
2. 对应挂起的行为是**激活**，即当**没有活动就绪进程时**或静止就绪队列里面有进程**优先级高于活动就绪里面所有进程**，还有就是当一个进程**释放足够内存**时，系统会把一个高优先级阻塞激活。而阻塞却没有对应的主动行为来解除，需要其他进程或系统唤醒。
3. 一个比喻：只有一个锅，当食材已经准备充分的菜就可以下锅，这就是**执行态**；而其他准备好的菜就顺序放在一旁，等待下锅，这就是**就绪态**；还有的菜准备还不是很充分，例如该切片的菜还没有切片，还有一些佐料还没有从冰箱里拿出，这就是I/O操作等待，类似**阻塞态**；而还有一种情况就是厨房的面积太小了，桌子上放不下那么多的准备下锅的菜，于是先将那些还没有准备好的菜放入冰箱，如果还是放不了那么多菜，就把那些已经准备好的但没有下锅的菜放入冰箱，以免变质，这就是**挂起态**；当桌子上有位置了，就把菜从冰箱拿出来，这便是**激活操作**。做好的菜就可以端出厨房，这便是**退出态**。（PS:这里我假设冰箱空间很大，也存在那种炒到一半的菜放到一边的情况，即**从执行态到就绪态或阻塞态的情况**，这种情况可以类似川菜中先将肉处理一下（去腥等等），然后又从锅里捞出来，用豆瓣和其他佐料来进行腌制（这里如果佐料没有在桌子上就类似进入阻塞态，而如果有就相当于进入就绪态，但是锅里已经被占用了，需要等待一会儿）至于**优先级的高低**，也可类比有些菜是为了其他菜做铺垫（举个例子：在川菜里面，回锅肉和炒白菜，一般家庭会优先做回锅肉，因为当做回锅肉时，会炒出许多猪油，而这些有可以用来炒白菜，这样的炒白菜不仅好吃，而且也节约了许多油。））