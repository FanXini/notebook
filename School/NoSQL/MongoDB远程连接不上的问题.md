---
typora-copy-images-to: ..\..\img
---

# Ubuntu 16.04 安装MongoDB远程连接不上的问题

MongoDB远程安装不上一般就是两个问题

- 配置文件bind_ip设置问题
- 系统端口没打开

## 设置bind_ip;

打开mongodb.conf文件修改配置

修改配置 如下

![1546844755320](..\..\img\1546844755320.png)



 将mongo绑定在任何ip地址上。

重启mongodb

```
pkill mongod    #关闭mongo服务
mongod -config /路径/mongodb.conf  #配置文件启动mongo服务
netstat -tunlp #查看网络端口情况，看端口27017是否绑定在任意ip地址上
```

![1546844723981](..\..\img\1546844723981.png)

公网连接测试

```
mongo ip:port
```

![1546844855386](..\..\img\1546844855386.png)

如果还是连接不上，那就是端口没打开的问题了。

## 打开端口

使用`sudo ufw status`查看防火墙状态，如果没有安装uwf软件，使用`apt-get install ufw`安装就好。

![1546845170802](..\..\img\1546845170802.png)

### 关闭防火墙

如果想简单暴力点，就直接使用

`sudo ufw disable`关闭防火墙即可![1546845250453](..\..\img\1546845250453.png)

### 开放端口

如果不想关闭防火墙，使用`sudo ufw enable`打开防火墙

```
ufw allow 27017  #开启27017端口
```

![1546845473077](..\..\img\1546845473077.png)

```
sudo ufw delete allow 27017 #删除端口
```

按照刚才指令进行测试。

### 在云平台上安装MongoDB的问题

再测试下，如果还是不行，那一般就是你的服务器是租用云的(阿里云，腾讯云),你要到平台上去开发这个端口。

我这里是租用了阿里云的轻量级应用服务器，在防火墙配置下增加27017端口

![1546845717544](..\..\img\1546845717544.png)

